---
layout: single
title: "게시글 읽기"
categories: SpringBoot
classes: wide
---

# 게시글 읽기: Read

## 1. 데이터 조회 과정

![image](https://github.com/Y0-0N63/STUDY-4242/assets/144354615/b4442b0b-7104-4f74-b98e-b137a1e936a9){: width="60%"}

1. 사용자가 웹페이지에서 데이터를 조회하기 위해 특정 URL 요청
2. 컨트롤러가 요청을 받아 해당 URL에서 찾으려는 데이터 정보(id 등)를 리포지터리에 전달
3. 리포지터리는 정보(id 등)를 가지고 DB에 데이터 조회를 요청
4. DB는 해당 데이터를 찾아 엔티티 형태로 리포지터리에 반환
5. 컨트롤러에 반환된 엔티티를 전달한 후 해당 데이터를 모델에 추가하여 모델을 통해 뷰 템플릿으로 전달
6. 뷰 템플릿은 모델로부터 받은 데이터를 사용하여 완성한 최종 결과 뷰 페이지를 사용자 화면에 출력

## 2. 단일 데이터 조회하기

### 2-1. URL 요청받기

1. 사용자가 입력하여 DB에 저장한 데이터를 조회하기 위해 URL을 요청할 때, 게시글의 id를 사용하고자 한다. (`articles/id`)

2. 그러기 위해서 컨트롤러는 `@GetMapping("/articles/{id})`로 URL 요청을 받는다. 그리고 이 URL에 포함된 id를 `show()`메서드의 매개변수로 받는데, 이때 매개변수 앞에 `@PathVariable` 어노테이션을 붙여야 한다. 그래야 URL의 id를 가져올 수 있기 때문이다.
```
@GetMapping("/articles/{id}")
  public String show(@PathVariable Long id, Model model){
}
```

3. 리포지터리에서 DB에 저장된 데이터를 id로 조회할 때 `findById()` 메서드를 사용한다. 특별히 조회된 데이터가 없는 경우도 처리해야 하므로 `orElse()` 메서드로 null이 반환되도록 한다.
`Article articleEntity = articleRepository.findById(id).orElse(null);`

4. id로 DB에서 조회한 데이터는 모델에 article이라는 이름으로 등록한다.
`model.addAttribute("article",  articleEntity);`

5. 최종적으로 모델에 등록한 데이터를 뷰 페이지에서 사용할 수 있게 설정합니다. 이때 #과 /를 이용해 열고 닫음으로써데이터를 사용할 수 있는 영역을 지정합니다. `{{#article}}`, `{{/article}}`


![image](https://github.com/Y0-0N63/STUDY-4242/assets/144354615/b9e57dcf-b73f-4435-8651-25d3f54c43e4){: width="60%"}

## 3. 데이터 목록 조회하기

단일 데이터를 조회할 때 리포지터리는 엔티티를 반환했지만, 데이터 목록을 조회할 때는 엔티티의 묶음인 **리스트**	를 반환한다.
